import{r as n,j as e}from"./app-iwa7Ko-Z.js";import{D as C}from"./Dialog-CqHC0IY3.js";import{B as o}from"./Box-CqNUOHRX.js";import{D as B,a as D,b as W}from"./DialogTitle-CZygR1Nf.js";import{C as k,T as d}from"./Modal-gcJFvPF_.js";import{B as j}from"./Button-C8fvO0-a.js";import{S as E}from"./Slide-DdegnNH9.js";const R="/build/assets/result_video-BNB9BkEU.mp4",M=s=>e.jsx(E,{direction:"up",...s});function F({open:s,onClose:u,correct:x=0,total:l=0,onGoToSubjects:y,showReview:I}){const i=l>0?Math.round(x/l*100):0,[b,h]=n.useState(0),[T,p]=n.useState(0),m=n.useRef(null);let a="";return i>=90?a="¡Excelente resultado!":i>=70?a="¡Bien hecho!":a="Necesitas mejorar, sigue practicando.",n.useEffect(()=>{if(!s)return;h(0),p(0);const t=1200,r=16,f=Math.ceil(t/r);let c=0;const v=setInterval(()=>{c+=1;const g=Math.min(i,Math.round(c/f*i));h(g),p(g),c>=f&&clearInterval(v)},r);return()=>clearInterval(v)},[s,i]),n.useEffect(()=>{const t=m.current;if(t)if(s){t.currentTime=1,t.play();const r=setInterval(()=>{t.currentTime>=5&&(t.pause(),clearInterval(r))},200);return()=>clearInterval(r)}else t.pause()},[s]),e.jsxs(C,{open:s,onClose:u,fullWidth:!0,maxWidth:"xs",TransitionComponent:M,PaperProps:{sx:{borderRadius:3,overflow:"hidden",position:"relative",backgroundColor:"transparent",minHeight:600}},children:[e.jsx(o,{sx:{position:"absolute",inset:0,zIndex:0,opacity:1,overflow:"hidden",minHeight:650},children:e.jsx("video",{ref:m,src:R,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs(o,{sx:{position:"relative",zIndex:1,backgroundColor:"rgba(255,255,255,0.90)",minHeight:650},children:[e.jsx(B,{sx:{fontWeight:700},children:"¡Test terminado!"}),e.jsx(D,{children:e.jsxs(o,{sx:{display:"grid",placeItems:"center",my:20},children:[e.jsxs(o,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(k,{variant:"determinate",value:b,size:140,thickness:5}),e.jsx(o,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:e.jsxs(d,{variant:"h4",sx:{fontWeight:800},children:[T,"%"]})})]}),e.jsxs(d,{variant:"h6",sx:{mt:2,fontWeight:700},children:[x," de ",l]}),e.jsxs(d,{variant:"overline",color:"text.secondary",sx:{mt:.5},children:[e.jsx("strong",{children:a})," Tu porcentaje es ",i,"%."]})]})}),e.jsxs(W,{sx:{px:3,pb:2,gap:1},children:[I==!0?e.jsx(j,{variant:"contained",onClick:u,fullWidth:!0,children:"Revisar"}):null,e.jsx(j,{variant:"contained",onClick:y,color:"primary",fullWidth:!0,children:"Ir a materias"})]})]})]})}export{F as T};
