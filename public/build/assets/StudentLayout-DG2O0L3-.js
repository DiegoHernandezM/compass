import{r as d,j as o,q as S,Y as y}from"./app-B7h2jG03.js";import{d as $}from"./index-BJjjDWMy.js";import{H,M as V,I as q}from"./MenuBook-DOqNpYgT.js";import{S as Y,L as G}from"./Logout-CsPcWL1h.js";import{E as X,A as J,T as K,b as Q,M as R,f as Z}from"./ErrorAlert-D1RGvLXb.js";import{B as A}from"./Box-DGyrRjtI.js";import{a as z,g as O,b as W,s as E,k as D,d as U,m as L,c as k,n as _,T as oo,r as to}from"./Modal-rIM6T3Aq.js";import{I as eo}from"./Alert-Brfjgq8I.js";function so(t){return z("MuiBottomNavigation",t)}O("MuiBottomNavigation",["root"]);const no=t=>{const{classes:n}=t;return U({root:["root"]},so,n)},ao=E("div",{name:"MuiBottomNavigation",slot:"Root"})(L(({theme:t})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper}))),ro=d.forwardRef(function(n,e){const a=W({props:n,name:"MuiBottomNavigation"}),{children:l,className:b,component:c="div",onChange:h,showLabels:u=!1,value:j,...r}=a,x={...a,component:c,showLabels:u},g=no(x);return o.jsx(ao,{as:c,className:D(g.root,b),ref:e,ownerState:x,...r,children:d.Children.map(l,(i,v)=>{if(!d.isValidElement(i))return null;const p=i.props.value===void 0?v:i.props.value;return d.cloneElement(i,{selected:p===j,showLabel:i.props.showLabel!==void 0?i.props.showLabel:u,value:p,onChange:h})})})});function io(t){return z("MuiBottomNavigationAction",t)}const F=O("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),lo=t=>{const{classes:n,showLabel:e,selected:a}=t;return U({root:["root",!e&&!a&&"iconOnly",a&&"selected"],label:["label",!e&&!a&&"iconOnly",a&&"selected"]},io,n)},co=E(_,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,!e.showLabel&&!e.selected&&n.iconOnly]}})(L(({theme:t})=>({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1",[`&.${F.selected}`]:{color:(t.vars||t).palette.primary.main},variants:[{props:({showLabel:n,selected:e})=>!n&&!e,style:{paddingTop:14}},{props:({showLabel:n,selected:e,label:a})=>!n&&!e&&!a,style:{paddingTop:0}}]}))),po=E("span",{name:"MuiBottomNavigationAction",slot:"Label"})(L(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s",[`&.${F.selected}`]:{fontSize:t.typography.pxToRem(14)},variants:[{props:({showLabel:n,selected:e})=>!n&&!e,style:{opacity:0,transitionDelay:"0s"}}]}))),N=d.forwardRef(function(n,e){const a=W({props:n,name:"MuiBottomNavigationAction"}),{className:l,icon:b,label:c,onChange:h,onClick:u,selected:j,showLabel:r,value:x,slots:g={},slotProps:i={},...v}=a,p=a,w=lo(p),I=m=>{h&&h(m,x),u&&u(m)},f={slots:g,slotProps:i},[B,C]=k("root",{elementType:co,externalForwardedProps:{...f,...v},shouldForwardComponentProp:!0,ownerState:p,ref:e,className:D(w.root,l),additionalProps:{focusRipple:!0},getSlotProps:m=>({...m,onClick:T=>{var P;(P=m.onClick)==null||P.call(m,T),I(T)}})}),[s,M]=k("label",{elementType:po,externalForwardedProps:f,ownerState:p,className:w.label});return o.jsxs(B,{...C,children:[b,o.jsx(s,{...M,children:c})]})});function yo({children:t}){var B,C;const[e,a]=d.useState(null),{user:l}=S().props.auth,b=s=>a(s.currentTarget),{url:c}=S(),[h,u]=d.useState(c),{props:j}=S(),r=j.subscriptionExpired??!1,x=c.startsWith("/student/test/"),g=((C=(B=S().props)==null?void 0:B.flash)==null?void 0:C.error)??null,[i,v]=d.useState(!!g),p={"/student-dashboard":"DASHBOARD","/student/subjects":"MATERIAS","/student/stadistics":"RESULTADOS","/student/profile":"MI PERFIL"},w=()=>{confirm("¿Estás seguro de que deseas cerrar sesión?")&&$.Inertia.post(route("logout"))},I=()=>a(null),f=s=>({color:s?"#b0b0b0":"white",pointerEvents:s?"none":"auto",cursor:s?"not-allowed":"pointer","&.Mui-selected":{color:s?"#b0b0b0":"white"},"& .MuiSvgIcon-root":{color:s?"#9e9e9e":"white",opacity:s?.6:1},opacity:s?.5:1,transition:"none"});return o.jsxs(A,{sx:{pb:7},children:[o.jsx(X,{open:i,onClose:()=>v(!1),message:g}),!x&&o.jsx(J,{position:"fixed",elevation:6,sx:{zIndex:s=>s.zIndex.drawer+1,top:5,left:15,right:30,width:"calc(100% - 30px)",borderRadius:"10px",backgroundColor:"#203764",color:"#333",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",px:1},children:o.jsxs(K,{sx:{display:"flex",justifyContent:"space-between"},children:[o.jsx(A,{sx:{display:"flex",alignItems:"center"},children:o.jsx(oo,{variant:"h6",noWrap:!0,color:"white",children:p[c]||"ATP COMPASS"})}),o.jsxs("div",{children:[o.jsx(eo,{onClick:b,color:"inherit",style:{color:"white"},children:o.jsx(Y,{})}),o.jsxs(Q,{anchorEl:e,open:!!e,onClose:I,children:[o.jsx(R,{disabled:!0,children:l==null?void 0:l.name}),o.jsx(R,{component:y,href:route("student.profile"),children:"Perfil"}),o.jsx(y,{href:route("logout"),method:"post",as:"button",children:o.jsx(R,{children:"Salir"})})]})]})]})}),o.jsx(Z,{}),o.jsx(A,{component:"main",sx:{flexGrow:1,p:2,mt:x?0:8},children:t}),o.jsx(to,{sx:{position:"fixed",bottom:0,left:0,right:0,borderTop:"2px solid #e0e0e0",zIndex:s=>s.zIndex.drawer+1e3},elevation:3,children:o.jsx(A,{sx:{overflowX:"auto"},children:o.jsxs(ro,{disabled:r,showLabels:!0,value:h,onChange:(s,M)=>{u(M)},sx:{zIndex:s=>s.zIndex.drawer+1e3,width:"max-content",minWidth:"100%",display:"flex",backgroundColor:"#203764"},children:[o.jsx(N,{disabled:r,label:"Inicio",value:"/student-dashboard",icon:o.jsx(H,{}),component:y,href:"/student-dashboard",sx:f(r)}),o.jsx(N,{disabled:r,label:"Materias",value:"/student/subjects",icon:o.jsx(V,{}),component:y,href:"/student/subjects",sx:f(r)}),o.jsx(N,{disabled:r,label:"Resultados",value:"/student/progress",icon:o.jsx(q,{}),component:y,href:"/student/progress",sx:f(r)}),o.jsx(N,{label:"Salir",value:"logout",icon:o.jsx(G,{}),onClick:w,sx:{color:"white","&.Mui-selected":{color:"white"}}})]})})})]})}export{yo as S};
