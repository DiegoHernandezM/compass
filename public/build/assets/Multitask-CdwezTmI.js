import{r as a,j as e}from"./app-dIF5oOkC.js";import"./index-B-zMC2M6.js";import Q from"./CatchGame-BKbrE5bj.js";import q from"./PlanePathGame-CytbfOBw.js";import{C as F}from"./Card-BUDPb4pN.js";import{C as I}from"./CardContent-DDnz83fl.js";import{T as p}from"./Typography-Cwnm3did.js";import{L as W}from"./LinearProgress-D30oR1Pk.js";import{B as x}from"./Box-Dm8QCMCJ.js";import{P as D}from"./Fade-mgIuAe8C.js";import{S as h,F as R}from"./Stack-CBTC9-Aj.js";import{B as c}from"./Button-BXDar6yt.js";import{D as E}from"./Dialog-B9a49U7l.js";import{D as J,a as N,b as H}from"./DialogTitle-Dn65HOUQ.js";import{R as M,a as T}from"./RadioGroup-dzF7my7-.js";import"./index-73LGcBaD.js";import"./useFormControl-SrnJYW5x.js";import"./Modal-C7wy9Tuw.js";import"./useThemeProps-Dw8_SRzY.js";import"./getThemeProps--ixpBrZk.js";import"./createSvgIcon-CpIgIJu0.js";import"./FormGroup-DxY7rC7e.js";function fe({test:A,subject:f}){var y,v;const u=A.test_questions,j=u.filter(r=>r.type==="math"),g=u.filter(r=>r.type==="figure"),s=[],[l,_]=a.useState(null),[P,B]=a.useState(!0);for(let r=0;r<Math.min(j.length,g.length);r++)s.push([j[r],g[r]]);const[n,b]=a.useState(0),[d,z]=a.useState({}),[C,G]=a.useState({}),k=(r,t,O)=>{z(m=>({...m,[r]:t})),G(m=>({...m,[r]:t===O?"correct":"incorrect"}))},w=r=>C[r]==="correct",S=r=>C[r]==="incorrect",o=(y=s[n])==null?void 0:y[0],i=(v=s[n])==null?void 0:v[1],L=(n+1)/s.length*100;return e.jsxs(e.Fragment,{children:[e.jsx(F,{sx:{mb:4,borderRadius:3,boxShadow:3},children:e.jsxs(I,{sx:{backgroundColor:`${f.color}80`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[e.jsx(p,{variant:"h6",children:f.name}),e.jsx(W,{variant:"determinate",value:L})]})}),e.jsxs(x,{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh",gap:1,flexWrap:"wrap",px:2,children:[e.jsx(D,{sx:{p:4,width:500,borderRadius:3,backgroundColor:"#fff",mx:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsx(x,{children:e.jsxs(x,{children:[l==="vertical"&&e.jsx(Q,{}),l==="horizontal"&&e.jsx(q,{})]})})}),e.jsxs(D,{sx:{p:4,width:500,borderRadius:3,backgroundColor:"#fff",mx:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(p,{variant:"h4",mb:2,textAlign:"center",children:o==null?void 0:o.question_text}),e.jsx(h,{direction:"row",spacing:3,mb:6,children:Object.entries(JSON.parse(o.options)).filter(([r,t])=>!!t).slice(0,2).map(([r,t])=>e.jsx(c,{variant:"contained",sx:{backgroundColor:w(o.id)&&d[o.id]===t?"#dcfce7":S(o.id)&&d[o.id]===t?"#fee2e2":"#e0e0e0",color:"#000",minWidth:120},onClick:()=>k(o.id,t,o.correct_answer),children:t},r))}),e.jsx(p,{variant:"h3",mb:2,textAlign:"center",children:i==null?void 0:i.question_text}),e.jsx(h,{direction:"row",spacing:3,mb:4,children:Object.entries(JSON.parse(i.options)).filter(([r,t])=>!!t).map(([r,t])=>e.jsx(c,{variant:"contained",sx:{backgroundColor:w(i.id)&&d[i.id]===t?"#dcfce7":S(i.id)&&d[i.id]===t?"#fee2e2":"#e0e0e0",color:"#000",minWidth:80},onClick:()=>k(i.id,t,i.correct_answer),children:t},r))}),e.jsxs(h,{direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(c,{disabled:n===0,onClick:()=>b(r=>r-1),children:"Anterior"}),e.jsx(c,{disabled:n>=s.length-1,onClick:()=>b(r=>r+1),children:"Siguiente"})]})]})]}),e.jsxs(E,{open:P,children:[e.jsx(J,{children:"¿Qué tipo de juego prefieres?"}),e.jsx(N,{children:e.jsxs(M,{value:l,onChange:r=>_(r.target.value),children:[e.jsx(R,{value:"vertical",control:e.jsx(T,{}),label:"Vertical (Balde)"}),e.jsx(R,{value:"horizontal",control:e.jsx(T,{}),label:"Horizontal (Avión)"})]})}),e.jsx(H,{children:e.jsx(c,{onClick:()=>B(!1),disabled:!l,variant:"contained",children:"Comenzar"})})]})]})}export{fe as default};
