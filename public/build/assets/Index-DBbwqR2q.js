import{q as g,r as n,j as t,$ as u,a as l,m as b}from"./app-CyFoBk6F.js";import{S as v}from"./StudentLayout-Dtg4VoIo.js";import{C}from"./Close-Did3e7to.js";import{B as e}from"./Box-B-COTEq4.js";import{G as d}from"./Grid-CFSJOFyt.js";import{C as y}from"./Card-CTEIoGmC.js";import{C as j,T as f}from"./Modal-CrSswB4q.js";import{B as w}from"./Button-DbT2KLLt.js";import{D as I}from"./Dialog-CAAyHbC8.js";import{D as S,a as k}from"./DialogTitle-zVn1Kizq.js";import{I as W}from"./Alert-5XDZJpqj.js";import"./index-CItOQxQ3.js";import"./MenuBook-BO8iE4cu.js";import"./createSvgIcon--5izQEsH.js";import"./Logout-Cw6o7-ib.js";import"./ErrorAlert-C_AooaYC.js";import"./index-D23vuJ2P.js";import"./Tooltip-McAIk76N.js";import"./useControlled-Ch8AKYEG.js";import"./useThemeProps-BpsKNN4p.js";import"./getThemeProps-B6khwCsA.js";import"./isMuiElement-MLqbalJr.js";function V(){const{props:c}=g(),{subjects:x}=c,[i,p]=n.useState(null),[m,a]=n.useState(!1);n.useEffect(()=>{(async()=>{try{const{data:r}=await l.get(route("question.instructions.index"));Array.isArray(r)&&r.length>0&&p(r[0])}catch(r){console.error("No se pudo cargar el instructivo:",r)}})()},[]);const h=async o=>{try{const s=(await l.post(route("student.test.create"),{subject_id:o.id,level_id:o.level_id})).data.test.test;s!=null&&s.id&&b.get(`/student/test/${s.id}/${o.id}`)}catch(r){console.error(r)}};return t.jsxs(v,{children:[t.jsx(u,{title:"Materias - Estudiante"}),t.jsxs(e,{sx:{bgcolor:"#f5f6fa",minHeight:"100vh",py:4,px:{xs:2,sm:4,md:6}},children:[t.jsx(e,{sx:{maxWidth:"1200px",mx:"auto"},children:t.jsx(d,{container:!0,spacing:4,justifyContent:"center",children:x.map(o=>t.jsx(d,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,sx:{display:"flex",justifyContent:"center"},children:t.jsxs(y,{sx:{width:260,borderRadius:3,overflow:"hidden",display:"flex",flexDirection:"column",bgcolor:"#1e1e1e",color:"#fff"},elevation:4,children:[t.jsxs(e,{sx:{position:"relative"},children:[t.jsx(e,{component:"img",src:o.image?`/storage/${o.image}`:"/images/default.jpg",alt:o.name,sx:{width:"100%",height:180,objectFit:"cover",borderTopLeftRadius:12,borderTopRightRadius:12}}),t.jsx(e,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.4)"}}),t.jsx(e,{sx:{position:"absolute",top:8,left:8,backgroundColor:"rgba(0,0,0,0.5)",boxShadow:3,color:"#fff",px:1.2,py:.5,fontSize:11,fontWeight:"bold",borderRadius:1,zIndex:3},children:o==null?void 0:o.level_name}),t.jsxs(e,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,fontWeight:"bold",color:"#fff",boxShadow:3},children:[t.jsx(j,{variant:"determinate",value:o.progress||0,size:63,thickness:3,sx:{position:"absolute",color:"#e6fc6a",zIndex:1}}),t.jsx(e,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:52,height:52,borderRadius:"50%",background:`linear-gradient(145deg, ${o.color||"#555"} 30%, #ffffff20)`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:26,fontWeight:"bold",color:"#fff",boxShadow:`
                            0 2px 4px rgba(0, 0, 0, 0.2),
                            inset 0 1px 2px rgba(255, 255, 255, 0.3)
                          `,zIndex:2},children:o.name.charAt(0)})]})]}),t.jsxs(e,{sx:{p:2,flexGrow:1,display:"flex",flexDirection:"column",bgcolor:"#fff",color:"#000"},children:[t.jsx(f,{variant:"overline",gutterBottom:!0,sx:{fontWeight:"bold",mb:1,textAlign:"center",color:"#000"},children:o.name.toUpperCase()}),t.jsx(f,{variant:"body2",sx:{color:"#555",mb:2,textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:o.description}),t.jsx(e,{sx:{mt:"auto",textAlign:"left"},children:t.jsx(w,{size:"small",variant:"outlined",sx:{textTransform:"none",fontWeight:500,fontSize:"0.6rem",backgroundColor:"#fff",color:"#4f4f4f",borderRadius:"999px",borderColor:"#ccc",padding:"4px 12px","&:hover":{backgroundColor:"#f5f5f5",borderColor:"#bbb"},minWidth:"auto"},onClick:()=>h(o),children:o.progress>0?"Continuar práctica":"Iniciar práctica"})})]})]})},o.id))})}),t.jsxs(I,{open:m,onClose:()=>a(!1),fullWidth:!0,maxWidth:"md",PaperProps:{sx:{height:{xs:"85vh",md:"90vh"}}},children:[t.jsxs(S,{sx:{pr:6},children:[(i==null?void 0:i.original_name)||"Instructivo",t.jsx(W,{"aria-label":"cerrar",onClick:()=>a(!1),sx:{position:"absolute",right:8,top:8},children:t.jsx(C,{})})]}),t.jsx(k,{dividers:!0,sx:{p:0},children:i&&t.jsx("iframe",{title:"Instructivo PDF",src:route("question.instructions.show",i.id),style:{border:"none",width:"100%",height:"100%"}})})]})]})]})}export{V as default};
