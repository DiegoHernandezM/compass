import{q as B,r as l,j as e,$ as L}from"./app-BvioZF8O.js";import{S as O}from"./StudentLayout-DmjeDhHB.js";import P from"./CatchGame-BiZt50ik.js";import{B as p}from"./Logout-pGeDttDu.js";import{C as E}from"./Card-ChdKJVyu.js";import{C as Q}from"./CardContent-fVE03UiX.js";import{T as m}from"./Typography-QI3aQ4H6.js";import{L as W,S as x}from"./Stack-ITk6zMv5.js";import{P as $}from"./ButtonBase-wecvMaha.js";import{B as a}from"./Button-Te3lklNG.js";import"./Person-Bqs9EoYz.js";import"./index-L7eV0z_h.js";import"./index-BZd934AE.js";import"./useThemeProps-zsyYkAH1.js";import"./getThemeProps-DGe96xVY.js";function Z(){var S,y;const{test:T,subject:h}=B().props,f=T.test_questions,u=f.filter(t=>t.type==="math"),j=f.filter(t=>t.type==="figure"),o=[];for(let t=0;t<Math.min(u.length,j.length);t++)o.push([u[t],j[t]]);const[n,b]=l.useState(0),[c,_]=l.useState({}),[g,R]=l.useState({}),C=(t,r,q)=>{_(d=>({...d,[t]:r})),R(d=>({...d,[t]:r===q?"correct":"incorrect"}))},k=t=>g[t]==="correct",w=t=>g[t]==="incorrect",s=(S=o[n])==null?void 0:S[0],i=(y=o[n])==null?void 0:y[1],A=(n+1)/o.length*100;return e.jsxs(O,{children:[e.jsx(L,{title:"Multitask Test - Estudiante"}),e.jsxs(p,{sx:{minHeight:"100vh",backgroundColor:"rgba(0, 0, 0, 0.05)",p:2},children:[e.jsx(E,{sx:{mb:4,borderRadius:3,boxShadow:3},children:e.jsxs(Q,{sx:{backgroundColor:`${h.color}80`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[e.jsx(m,{variant:"h6",children:h.name}),e.jsx(W,{variant:"determinate",value:A})]})}),e.jsxs(p,{display:"flex",gap:4,justifyContent:"center",flexWrap:"wrap",children:[e.jsx(p,{children:e.jsx(P,{})}),e.jsxs($,{sx:{p:4,width:500,borderRadius:3,backgroundColor:"#fff",mx:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(m,{variant:"h4",mb:2,textAlign:"center",children:s==null?void 0:s.question_text}),e.jsx(x,{direction:"row",spacing:3,mb:6,children:Object.entries(JSON.parse(s.options)).filter(([t,r])=>!!r).slice(0,2).map(([t,r])=>e.jsx(a,{variant:"contained",sx:{backgroundColor:k(s.id)&&c[s.id]===r?"#dcfce7":w(s.id)&&c[s.id]===r?"#fee2e2":"#e0e0e0",color:"#000",minWidth:120},onClick:()=>C(s.id,r,s.correct_answer),children:r},t))}),e.jsx(m,{variant:"h3",mb:2,textAlign:"center",children:i==null?void 0:i.question_text}),e.jsx(x,{direction:"row",spacing:3,mb:4,children:Object.entries(JSON.parse(i.options)).filter(([t,r])=>!!r).map(([t,r])=>e.jsx(a,{variant:"contained",sx:{backgroundColor:k(i.id)&&c[i.id]===r?"#dcfce7":w(i.id)&&c[i.id]===r?"#fee2e2":"#e0e0e0",color:"#000",minWidth:80},onClick:()=>C(i.id,r,i.correct_answer),children:r},t))}),e.jsxs(x,{direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(a,{disabled:n===0,onClick:()=>b(t=>t-1),children:"Anterior"}),e.jsx(a,{disabled:n>=o.length-1,onClick:()=>b(t=>t+1),children:"Siguiente"})]})]})]})]})]})}export{Z as default};
