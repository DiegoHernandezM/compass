import{r as d,j as o,q as S,Y as y}from"./app-DO6qCxou.js";import{d as $}from"./index-Dfax6VI6.js";import{H,M as V,I as q}from"./MenuBook-z2jxhdM_.js";import{S as Y,L as G}from"./Logout-jt5SmNKr.js";import{E as X,A as J,T as K,b as Q,M as R,f as Z}from"./ErrorAlert-Dc-dKZZK.js";import{B as A}from"./Box-DECm0aEA.js";import{a as O,g as W,b as D,s as E,i as U,c as F,m as L,B as _,T as oo}from"./Typography-hDusPIBd.js";import{I as to}from"./Alert-Fqfy4srB.js";import{P as so}from"./Fade-4O_EcEW8.js";import{u as k}from"./Modal-D08ns42k.js";function eo(t){return O("MuiBottomNavigation",t)}W("MuiBottomNavigation",["root"]);const no=t=>{const{classes:e}=t;return F({root:["root"]},eo,e)},ao=E("div",{name:"MuiBottomNavigation",slot:"Root"})(L(({theme:t})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper}))),ro=d.forwardRef(function(e,s){const n=D({props:e,name:"MuiBottomNavigation"}),{children:l,className:b,component:c="div",onChange:h,showLabels:u=!1,value:j,...r}=n,m={...n,component:c,showLabels:u},g=no(m);return o.jsx(ao,{as:c,className:U(g.root,b),ref:s,ownerState:m,...r,children:d.Children.map(l,(i,v)=>{if(!d.isValidElement(i))return null;const p=i.props.value===void 0?v:i.props.value;return d.cloneElement(i,{selected:p===j,showLabel:i.props.showLabel!==void 0?i.props.showLabel:u,value:p,onChange:h})})})});function io(t){return O("MuiBottomNavigationAction",t)}const z=W("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),lo=t=>{const{classes:e,showLabel:s,selected:n}=t;return F({root:["root",!s&&!n&&"iconOnly",n&&"selected"],label:["label",!s&&!n&&"iconOnly",n&&"selected"]},io,e)},co=E(_,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,!s.showLabel&&!s.selected&&e.iconOnly]}})(L(({theme:t})=>({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1",[`&.${z.selected}`]:{color:(t.vars||t).palette.primary.main},variants:[{props:({showLabel:e,selected:s})=>!e&&!s,style:{paddingTop:14}},{props:({showLabel:e,selected:s,label:n})=>!e&&!s&&!n,style:{paddingTop:0}}]}))),po=E("span",{name:"MuiBottomNavigationAction",slot:"Label"})(L(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s",[`&.${z.selected}`]:{fontSize:t.typography.pxToRem(14)},variants:[{props:({showLabel:e,selected:s})=>!e&&!s,style:{opacity:0,transitionDelay:"0s"}}]}))),N=d.forwardRef(function(e,s){const n=D({props:e,name:"MuiBottomNavigationAction"}),{className:l,icon:b,label:c,onChange:h,onClick:u,selected:j,showLabel:r,value:m,slots:g={},slotProps:i={},...v}=n,p=n,w=lo(p),M=x=>{h&&h(x,m),u&&u(x)},f={slots:g,slotProps:i},[B,C]=k("root",{elementType:co,externalForwardedProps:{...f,...v},shouldForwardComponentProp:!0,ownerState:p,ref:s,className:U(w.root,l),additionalProps:{focusRipple:!0},getSlotProps:x=>({...x,onClick:T=>{var P;(P=x.onClick)==null||P.call(x,T),M(T)}})}),[a,I]=k("label",{elementType:po,externalForwardedProps:f,ownerState:p,className:w.label});return o.jsxs(B,{...C,children:[b,o.jsx(a,{...I,children:c})]})});function wo({children:t}){var B,C;const[s,n]=d.useState(null),{user:l}=S().props.auth,b=a=>n(a.currentTarget),{url:c}=S(),[h,u]=d.useState(c),{props:j}=S(),r=j.subscriptionExpired??!1,m=c.startsWith("/student/test/"),g=((C=(B=S().props)==null?void 0:B.flash)==null?void 0:C.error)??null,[i,v]=d.useState(!!g),p={"/student-dashboard":"DASHBOARD","/student/subjects":"MATERIAS","/student/stadistics":"RESULTADOS","/student/profile":"MI PERFIL"},w=()=>{confirm("¿Estás seguro de que deseas cerrar sesión?")&&$.Inertia.post(route("logout"))},M=()=>n(null),f=a=>({color:a?"#b0b0b0":"white",pointerEvents:a?"none":"auto",cursor:a?"not-allowed":"pointer","&.Mui-selected":{color:a?"#b0b0b0":"white"},"& .MuiSvgIcon-root":{color:a?"#9e9e9e":"white",opacity:a?.6:1},opacity:a?.5:1,transition:"none"});return o.jsxs(A,{sx:{pb:7},children:[o.jsx(X,{open:i,onClose:()=>v(!1),message:g}),!m&&o.jsx(J,{position:"fixed",elevation:6,sx:{zIndex:a=>a.zIndex.drawer+1,top:5,left:15,right:30,width:"calc(100% - 30px)",borderRadius:"10px",backgroundColor:"#203764",color:"#333",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",px:1},children:o.jsxs(K,{sx:{display:"flex",justifyContent:"space-between"},children:[o.jsx(A,{sx:{display:"flex",alignItems:"center"},children:o.jsx(oo,{variant:"h6",noWrap:!0,color:"white",children:p[c]||"ATP COMPASS"})}),o.jsxs("div",{children:[o.jsx(to,{onClick:b,color:"inherit",style:{color:"white"},children:o.jsx(Y,{})}),o.jsxs(Q,{anchorEl:s,open:!!s,onClose:M,children:[o.jsx(R,{disabled:!0,children:l==null?void 0:l.name}),o.jsx(R,{component:y,href:route("student.profile"),children:"Perfil"}),o.jsx(y,{href:route("logout"),method:"post",as:"button",children:o.jsx(R,{children:"Salir"})})]})]})]})}),o.jsx(Z,{}),o.jsx(A,{component:"main",sx:{flexGrow:1,p:2,mt:m?0:8},children:t}),o.jsx(so,{sx:{position:"fixed",bottom:0,left:0,right:0,borderTop:"2px solid #e0e0e0"},elevation:3,children:o.jsx(A,{sx:{overflowX:"auto"},children:o.jsxs(ro,{disabled:r,showLabels:!0,value:h,onChange:(a,I)=>{u(I)},sx:{width:"max-content",minWidth:"100%",display:"flex",backgroundColor:"#203764"},children:[o.jsx(N,{disabled:r,label:"Inicio",value:"/student-dashboard",icon:o.jsx(H,{}),component:y,href:"/student-dashboard",sx:f(r)}),o.jsx(N,{disabled:r,label:"Materias",value:"/student/subjects",icon:o.jsx(V,{}),component:y,href:"/student/subjects",sx:f(r)}),o.jsx(N,{disabled:r,label:"Resultados",value:"/student/progress",icon:o.jsx(q,{}),component:y,href:"/student/progress",sx:f(r)}),o.jsx(N,{label:"Salir",value:"logout",icon:o.jsx(G,{}),onClick:w,sx:{color:"white","&.Mui-selected":{color:"white"}}})]})})})]})}export{wo as S};
