import{r as b,v as p,j as e}from"./app-kUOnYEDT.js";import{T as u,I as l}from"./TextInput-CPfLRJ3J.js";import{I as i}from"./InputLabel-BAPvlZzg.js";import{P as h}from"./PrimaryButton-DTZmtij9.js";import{z as y}from"./transition-Bk2mGawc.js";import{L as x}from"./dialog-CLd8zpwJ.js";import"./with-selector-Bhsu9DA5.js";function S({student:s}){const[o,r]=b.useState(!1),{data:c,setData:d,patch:n,errors:m,processing:t,recentlySuccessful:j}=p({name:s.name||"",birthdate:s.birthdate||"",gender:s.gender||"",address:s.address||"",zip_code:s.zip_code||"",city:s.city||"",country:s.country||"",phone:s.phone||"",school:s.school||""}),g=a=>{a.preventDefault(),n(route("student.profile.update"))};return e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Información del Estudiante"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Actualiza tus datos personales."}),e.jsx(y,{show:j,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Actualizado."})})]}),e.jsxs("form",{onSubmit:g,className:"mt-6 space-y-6",children:[[["name","Nombre","text"],["birthdate","Fecha de nacimiento","date"],["address","Dirección","text"],["zip_code","Código postal","text"],["city","Ciudad","text"],["country","País","text"],["phone","Teléfono","text"],["school","Escuela","text"]].map(([a,f,v])=>e.jsxs("div",{children:[e.jsx(i,{htmlFor:a,value:f}),e.jsx(u,{id:a,type:v,className:"mt-1 block w-full",value:c[a],onChange:w=>d(a,w.target.value)}),e.jsx(l,{className:"mt-2",message:m[a]})]},a)),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"gender",value:"Género"}),e.jsxs("select",{id:"gender",value:c.gender,onChange:a=>d("gender",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Selecciona una opción"}),e.jsx("option",{value:"Masculino",children:"Masculino"}),e.jsx("option",{value:"Femenino",children:"Femenino"}),e.jsx("option",{value:"Otro",children:"Otro"})]}),e.jsx(l,{className:"mt-2",message:m.gender})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(h,{disabled:t,children:"Guardar"}),e.jsx("button",{type:"button",onClick:()=>r(!0),className:"text-sm text-blue-600 underline hover:text-blue-800",children:"Cambiar contraseña"})]})]}),e.jsxs(x,{open:o,onClose:()=>r(!1),className:"relative z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(x.Panel,{className:"mx-auto max-w-sm rounded bg-white p-6 shadow-lg",children:[e.jsx(x.Title,{className:"text-lg font-bold mb-4",children:"Cambiar contraseña"}),e.jsx(N,{onClose:()=>r(!1)})]})})]})]})}function N({onClose:s}){const{data:o,setData:r,put:c,processing:d,errors:n}=p({current_password:"",password:"",password_confirmation:""}),m=t=>{t.preventDefault(),c(route("student.password.update"),{onSuccess:()=>s()})};return e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"current_password",value:"Contraseña actual"}),e.jsx(u,{id:"current_password",type:"password",className:"mt-1 block w-full",value:o.current_password,onChange:t=>r("current_password",t.target.value)}),e.jsx(l,{className:"mt-2",message:n.current_password})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"password",value:"Nueva contraseña"}),e.jsx(u,{id:"password",type:"password",className:"mt-1 block w-full",value:o.password,onChange:t=>r("password",t.target.value)}),e.jsx(l,{className:"mt-2",message:n.password})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"password_confirmation",value:"Confirmar contraseña"}),e.jsx(u,{id:"password_confirmation",type:"password",className:"mt-1 block w-full",value:o.password_confirmation,onChange:t=>r("password_confirmation",t.target.value)}),e.jsx(l,{className:"mt-2",message:n.password_confirmation})]}),e.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[e.jsx("button",{type:"button",onClick:s,className:"text-sm text-gray-500 hover:text-gray-800",children:"Cancelar"}),e.jsx(h,{disabled:d,children:"Guardar"})]})]})}export{S as default};
