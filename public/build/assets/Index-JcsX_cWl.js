import{u as y,r as i,j as e,H as j,a as c,d as v}from"./app-uPHnM-9B.js";import{S as C}from"./StudentLayout-DRGcspmZ.js";import{C as S}from"./Close-TZJWjS65.js";import{B as x}from"./NavigateNext-Bxd6QYJk.js";import{B as o}from"./Box-B8fhjqIR.js";import{G as f}from"./Grid-BIuJR_n9.js";import{C as w}from"./Card-_d-dCLQ1.js";import{C as I,T as n}from"./Modal-DCnd3rmx.js";import{B as p}from"./Button-DOxN0nyD.js";import{D as k}from"./Dialog-RnCFoEb7.js";import{D as R,a as W}from"./DialogTitle-CIS-lcHH.js";import{I as _}from"./Alert-BvGJ135m.js";import"./index-C98WRUbk.js";import"./Logout-DkoBwiMD.js";import"./createSvgIcon-B29Vkg9N.js";import"./ErrorAlert-HdNPX8K3.js";import"./index-fmPWhlCr.js";import"./tiny-invariant-CopsF_GD.js";import"./Tooltip-bxWjDdLq.js";import"./useControlled-BrnxHhem.js";import"./useThemeProps-Qpsl48Kr.js";import"./getThemeProps-BZCJ7Lg2.js";import"./isMuiElement-BfcnvGsD.js";function te(){const{props:m}=y(),{subjects:h}=m,[u,l]=i.useState(!1),[d,g]=i.useState(null),[z,A]=i.useState(!1);i.useEffect(()=>{(async()=>{try{const{data:r}=await c.get(route("question.instructions.index"));Array.isArray(r)&&r.length>0&&g(r[0])}catch(r){console.error("No se pudo cargar el instructivo:",r)}})()},[]),i.useEffect(()=>{if(!d)return;localStorage.getItem("compass_seen_instructions_prompt_v1")||l(!0)},[d]);const a=()=>{localStorage.setItem("compass_seen_instructions_prompt_v1","1"),l(!1)},b=async t=>{try{const s=(await c.post(route("student.test.create"),{subject_id:t.id,level_id:t.level_id})).data.test.test;s!=null&&s.id&&v.get(`/student/test/${s.id}/${t.id}`)}catch(r){console.error(r)}};return e.jsxs(C,{children:[e.jsx(j,{title:"Materias - Estudiante"}),e.jsx(o,{sx:{bgcolor:"#f5f6fa",minHeight:"100vh",py:4,px:{xs:2,sm:4,md:6}},children:e.jsx(o,{sx:{maxWidth:"1200px",mx:"auto"},children:e.jsx(f,{container:!0,spacing:4,justifyContent:"center",children:h.map(t=>e.jsx(f,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,sx:{display:"flex",justifyContent:"center"},children:e.jsxs(w,{sx:{width:260,borderRadius:3,overflow:"hidden",display:"flex",flexDirection:"column",bgcolor:"#1e1e1e",color:"#fff"},elevation:4,children:[e.jsxs(o,{sx:{position:"relative"},children:[e.jsx(o,{component:"img",src:t.image?`/storage/${t.image}`:"/images/default.jpg",alt:t.name,sx:{width:"100%",height:180,objectFit:"cover",borderTopLeftRadius:12,borderTopRightRadius:12}}),e.jsx(o,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.4)"}}),e.jsx(o,{sx:{position:"absolute",top:8,left:8,backgroundColor:"rgba(0,0,0,0.5)",boxShadow:3,color:"#fff",px:1.2,py:.5,fontSize:11,fontWeight:"bold",borderRadius:1,zIndex:3},children:t==null?void 0:t.level_name}),e.jsxs(o,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,fontWeight:"bold",color:"#fff",boxShadow:3},children:[e.jsx(I,{variant:"determinate",value:t.progress||0,size:63,thickness:3,sx:{position:"absolute",color:"#e6fc6a",zIndex:1}}),e.jsx(o,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:52,height:52,borderRadius:"50%",background:`linear-gradient(145deg, ${t.color||"#555"} 30%, #ffffff20)`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:26,fontWeight:"bold",color:"#fff",boxShadow:`
                            0 2px 4px rgba(0, 0, 0, 0.2),
                            inset 0 1px 2px rgba(255, 255, 255, 0.3)
                          `,zIndex:2},children:t.name.charAt(0)})]})]}),e.jsxs(o,{sx:{p:2,flexGrow:1,display:"flex",flexDirection:"column",bgcolor:"#fff",color:"#000"},children:[e.jsx(n,{variant:"overline",gutterBottom:!0,sx:{fontWeight:"bold",mb:1,textAlign:"center",color:"#000"},children:t.name.toUpperCase()}),e.jsx(n,{variant:"body2",sx:{color:"#555",mb:2,textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:t.description}),e.jsx(o,{sx:{mt:"auto",textAlign:"left"},children:e.jsx(p,{size:"small",variant:"outlined",sx:{textTransform:"none",fontWeight:500,fontSize:"0.6rem",backgroundColor:"#fff",color:"#4f4f4f",borderRadius:"999px",borderColor:"#ccc",padding:"4px 12px","&:hover":{backgroundColor:"#f5f5f5",borderColor:"#bbb"},minWidth:"auto"},onClick:()=>b(t),children:t.progress>0?"Continuar prÃ¡ctica":"Iniciar prÃ¡ctica"})})]})]})},t.id))})})}),e.jsxs(k,{open:u,onClose:a,fullWidth:!0,maxWidth:"xs",children:[e.jsxs(R,{sx:{pr:6},children:["Antes de empezar ðŸ™Œ",e.jsx(_,{"aria-label":"cerrar",onClick:a,sx:{position:"absolute",right:8,top:8},children:e.jsx(S,{})})]}),e.jsxs(W,{dividers:!0,children:[e.jsxs(o,{sx:{display:"flex",alignItems:"flex-start",gap:1.5},children:[e.jsx(o,{sx:{width:40,height:40,borderRadius:2,bgcolor:"rgba(25, 118, 210, 0.10)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(x,{color:"warning"})}),e.jsxs(o,{children:[e.jsx(n,{sx:{fontWeight:700,mb:.5},children:"Revisa el instructivo"}),e.jsxs(n,{variant:"body2",sx:{color:"text.secondary"},children:["Te tomarÃ¡ menos de 1 minuto y te evita errores comunes. Puedes abrirlo tocando el Ã­cono de ALERTA (",e.jsx(x,{color:"warning",sx:{fontSize:18,verticalAlign:"text-bottom"}}),") en la parte superior."]})]})]}),e.jsx(o,{sx:{display:"flex",gap:1,mt:2},children:e.jsx(p,{fullWidth:!0,variant:"contained",onClick:a,children:"Entendido"})})]})]})]})}export{te as default};
