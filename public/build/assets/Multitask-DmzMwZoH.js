import{r as a,j as e}from"./app-CBucPHzG.js";import"./index-BGU7hHMp.js";import Q from"./CatchGame-CJ0-UzA_.js";import q from"./PlanePathGame-D-oSrSf0.js";import{C as F}from"./Card-Kf_3m0Z3.js";import{C as I}from"./CardContent-WCKHYL--.js";import{T as p}from"./Typography-DJb3NVXn.js";import{L as W,S as x,F as D}from"./Stack-Cb4FCVXq.js";import{B as h}from"./Box-m--2wziB.js";import{P as R}from"./useSlot-CJPmMWAX.js";import{B as c}from"./Button-CTICrhqb.js";import{D as E}from"./Dialog-sDwa-wob.js";import{D as J,a as N,b as H}from"./DialogTitle-oN21Xprn.js";import{R as M,a as T}from"./RadioGroup-Ds0w_6sr.js";import"./ButtonBase-DdA8Ku2c.js";import"./useFormControl-BsPVMvoc.js";import"./index-CQUi5ALd.js";import"./useThemeProps-BAltvEUj.js";import"./getThemeProps-CQcBN-ro.js";import"./Modal-BEcyDk9H.js";import"./FormGroup-5qyDL-Mc.js";function he({test:A,subject:f}){var y,v;const u=A.test_questions,j=u.filter(r=>r.type==="math"),g=u.filter(r=>r.type==="figure"),s=[],[l,_]=a.useState(null),[P,B]=a.useState(!0);for(let r=0;r<Math.min(j.length,g.length);r++)s.push([j[r],g[r]]);const[n,b]=a.useState(0),[d,z]=a.useState({}),[C,G]=a.useState({}),k=(r,t,O)=>{z(m=>({...m,[r]:t})),G(m=>({...m,[r]:t===O?"correct":"incorrect"}))},w=r=>C[r]==="correct",S=r=>C[r]==="incorrect",o=(y=s[n])==null?void 0:y[0],i=(v=s[n])==null?void 0:v[1],L=(n+1)/s.length*100;return e.jsxs(e.Fragment,{children:[e.jsx(F,{sx:{mb:4,borderRadius:3,boxShadow:3},children:e.jsxs(I,{sx:{backgroundColor:`${f.color}80`,borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[e.jsx(p,{variant:"h6",children:f.name}),e.jsx(W,{variant:"determinate",value:L})]})}),e.jsxs(h,{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh",gap:1,flexWrap:"wrap",px:2,children:[e.jsx(R,{sx:{p:4,width:500,borderRadius:3,backgroundColor:"#fff",mx:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsx(h,{children:e.jsxs(h,{children:[l==="vertical"&&e.jsx(Q,{}),l==="horizontal"&&e.jsx(q,{})]})})}),e.jsxs(R,{sx:{p:4,width:500,borderRadius:3,backgroundColor:"#fff",mx:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(p,{variant:"h4",mb:2,textAlign:"center",children:o==null?void 0:o.question_text}),e.jsx(x,{direction:"row",spacing:3,mb:6,children:Object.entries(JSON.parse(o.options)).filter(([r,t])=>!!t).slice(0,2).map(([r,t])=>e.jsx(c,{variant:"contained",sx:{backgroundColor:w(o.id)&&d[o.id]===t?"#dcfce7":S(o.id)&&d[o.id]===t?"#fee2e2":"#e0e0e0",color:"#000",minWidth:120},onClick:()=>k(o.id,t,o.correct_answer),children:t},r))}),e.jsx(p,{variant:"h3",mb:2,textAlign:"center",children:i==null?void 0:i.question_text}),e.jsx(x,{direction:"row",spacing:3,mb:4,children:Object.entries(JSON.parse(i.options)).filter(([r,t])=>!!t).map(([r,t])=>e.jsx(c,{variant:"contained",sx:{backgroundColor:w(i.id)&&d[i.id]===t?"#dcfce7":S(i.id)&&d[i.id]===t?"#fee2e2":"#e0e0e0",color:"#000",minWidth:80},onClick:()=>k(i.id,t,i.correct_answer),children:t},r))}),e.jsxs(x,{direction:"row",justifyContent:"space-between",width:"100%",children:[e.jsx(c,{disabled:n===0,onClick:()=>b(r=>r-1),children:"Anterior"}),e.jsx(c,{disabled:n>=s.length-1,onClick:()=>b(r=>r+1),children:"Siguiente"})]})]})]}),e.jsxs(E,{open:P,children:[e.jsx(J,{children:"¿Qué tipo de juego prefieres?"}),e.jsx(N,{children:e.jsxs(M,{value:l,onChange:r=>_(r.target.value),children:[e.jsx(D,{value:"vertical",control:e.jsx(T,{}),label:"Vertical (Balde)"}),e.jsx(D,{value:"horizontal",control:e.jsx(T,{}),label:"Horizontal (Avión)"})]})}),e.jsx(H,{children:e.jsx(c,{onClick:()=>B(!1),disabled:!l,variant:"contained",children:"Comenzar"})})]})]})}export{he as default};
